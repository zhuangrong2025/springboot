<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./stylesheets/demo.css">
  <title>Document</title>
</head>
<body>
类型转换
</body>
<script id="seajsnode" src="./sea-modules/sea.js"></script>
<script id="seajsnode" src="./sea-modules/seajs-helper.js"></script>
<script>
  console.log('***********隐式类型转换****************')
  /*
    * 隐式类型转换
    *  + 号隐式调用String()
    *  ++,--,-,*,/ 号隐式调用Number()
    *  !  隐式调用boolean  ，boolean('') --> false, if(a) --> 也是隐式转换
  */
  var a  = 1 + '1'
  var aa = ''
  console.log(typeof(a) + ' : ' + a)  // string : 11
  if(aa){
    console.log(1)
  }

  var b = '123'
  b = ++b
  console.log(typeof(b) + ' : ' + b ) // number : 124

  var c = {'key': 123}
  c = !c
  console.log(typeof(c) + ' : ' + c ) // boolean : false

  console.log('***********type函数****************')
  /*
   * type函数，判断值是什么类型的
   * 1、★新建一个对象，对象的key是类型的返回值，对象value为要输出的结果
   * 2、先判断null，再判断引用值，再原始值
   */
  function type(target){
      var ret = typeof(target);
      var template = {
          '[object Number]': 'number -- object',
          '[object String]': 'string -- object',
          '[object Object]': 'object -- object',
          '[object Boolean]': 'Boolean -- object',
          '[object Array]': 'Array -- object',
      }
      if(target === null){
          return 'null';
      }
      if(ret == 'object'){ // 判断引用值 --> 对象，数组，包装类(new Number('123'))
        var str = Object.prototype.toString.call(target);
        return template[str];
    }else{
        return ret;
    }
  }
</script>

</html>
