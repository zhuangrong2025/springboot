define("#/base-common-module/0.1.30/base-common-module",["./ie8","#/observer/observer","#/jquery/jquery","#/xyz-component-base/xyz-component-base","#/xyz-storage/xyz-storage","#/base-style-manage/base-style-manage","#/json2/json2","#/xyz-iconfont/xyz-iconfont","./renderCss","./app-context"],function(e,n,t){e("./ie8");var o=e("#/observer/observer"),r=e("#/jquery/jquery"),a=e("#/xyz-component-base/xyz-component-base"),s=e("#/xyz-storage/xyz-storage"),i=e("#/base-style-manage/base-style-manage");e("#/json2/json2"),e("#/xyz-iconfont/xyz-iconfont");var u=window.ModulesGlobal;if(void 0===u){e("./renderCss");var l="global_theme",c=s.getSessItem(l);c||(c="darkblue"),null;var d='<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">',f=function(){r("head").prepend(d),i.changeStyle(c);var e=seajs&&seajs.pluginSDK&&seajs.pluginSDK.config&&seajs.pluginSDK.config.style_version;e&&r("body").addClass("base_style_manage_style_v"+e)};n.changeStyle=function(e){i.changeStyle(e)};var m=e("./app-context");r.extend(n,m,a),f(),window.ModulesGlobal={Observer:o,BaseCommonModule:n}}},{}),define("#/base-common-module/0.1.30/ie8",[],function(){var e=Object.defineProperty,n=function(){var n={};try{e(n,"x",{enumerable:!1,value:n});for(var t in n)return!1;return n.x===n}catch(o){return!1}},t=e&&n();t||(Object.defineProperty=function(n,t,o){return e&&1===n.nodeType?e(n,t,o):void(n[t]=o.value||o.get&&o.get())})},{}),define("#/base-common-module/0.1.30/renderCss",["#/lodash/lodash"],function(e){var n=e("#/lodash/lodash"),t=function(e){var n=document,t=n.head||n.getElementsByTagName("head")[0]||n.documentElement,o=n.createElement("link"),r=n.getElementsByTagName("title")[0];if(!r)throw"当前页面缺少title标签!";o.href=e,o.rel="stylesheet",o.type="text/css",t.insertBefore(o,r)},o=seajs&&seajs.pluginSDK&&seajs.pluginSDK.config&&seajs.pluginSDK.config.basecss_list;if(n.isArray(o)){var r=location.href,a=r.indexOf("/release/");if(-1!==a){var s=r.substring(0,a)+"/css/";n.each(o,function(e){var n=s+e;t(n)})}}},{}),define("#/base-common-module/0.1.30/app-context",["#/jquery/jquery","#/lodash/lodash","#/xyz-alert/xyz-alert","#/xyz-util/xyz-util","#/xyz-storage/xyz-storage","#/xyz-jsonRPC/xyz-jsonRPC"],function(e,n){var t=e("#/jquery/jquery"),o=e("#/lodash/lodash"),r=e("#/xyz-alert/xyz-alert"),a=e("#/xyz-util/xyz-util"),s=e("#/xyz-storage/xyz-storage");e("#/xyz-jsonRPC/xyz-jsonRPC")(t);var i="sth-as",u="login",l="active_menu",c="url_path",d="DOMNodeInserted.base_common_module";t(window).unbind(d).bind(d,function(e){var n=e.target;if(n){var o=t(n);if(o.length>0){o.attr(i)&&f(o);var r=o.find("["+i+"]");t.each(r,function(e,n){f(t(n))})}}});var f=function(e){var n=e.attr(i),t=y("control_permission")||[],r=v();if(r){var a=r.menu_code,s=r.func_code,u=o.find(t,function(e){return e.menu_code===a&&e.func_code===s});if(u){var l=u.exclude||[];o.find(l,function(e){return e===n})&&e.addClass("base_no_permission")}}},m=function(){var e=_("login_url");window.xyzJsonRPCDebug||(window.location.href=e)},p=function(e){try{return e()}catch(n){m()}},y=n.getAppContext=function(e,n){var t=s.getSessItem(u);if(!t)return void(window.xyzJsonRPCDebug||n||r.warn("本次会话已超时,请重新登录!",{confirm:function(){a.redirectToLogin()}}));if(e){for(var o,i=e.split("."),l=0,c=i.length;c>l;l++){var d=i[l];if(o){if(!o[d])return null;o=o[d]}else o=t[d]}return o||null}return t},g=(n.getUser=function(){return y("user")},n.getContext=function(){return y("context")}),v=(n.getCurrentAppId=function(){var e=v();if(!e){var n=g();return n&&!o.isUndefined(n.app_id)?n.app_id:null}return null!==e.orig_app_id?e.orig_app_id:null!==e.app_id?e.app_id:void 0},n.getActiveMenu=function(){return p(function(){var e=s.getSessItem(l);return e})});n.setActiveMenu=function(e){s.setSessItem(l,{menu_code:e.menu_code,func_code:e.func_code,app_id:o.isUndefined(e.app_id)?null:e.app_id,orig_app_id:o.isUndefined(e.orig_app_id)?null:e.orig_app_id})};var _=n.getUrlPath=function(e){var n=s.getSessItem(c),r=g().app_id;if(n||t.jsonRPC.request({async:!1,url:"/EPSERVICERUN/json/USAccess/json.do?service=esystem.epbos_sessionService.getAppUrlInfo",params:{params:{app_id:r}},success:function(e){n=e.data,s.setSessItem(c,n)}}),e){var a=o.find(n,function(n){return n.url_name===e});return a?a.url_value:null}return n}},{});