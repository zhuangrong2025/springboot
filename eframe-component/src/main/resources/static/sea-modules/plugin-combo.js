define("seajs/plugin-combo",[],function(){function n(){var n=p.prototype,r=n._load;n._load=function(n,t){o(n),r.call(this,n,t)}}function o(n){var o=[],t=l.comboExcludes;h.forEach(n,function(n){var r=E[n];if(!(r&&!(r.status<p.STATUS.FETCHING)||t&&t.test(n))){var a=h.parseMap(n);!i(a)&&o.push(a)}}),o.length>1&&seajs.config({map:c(r(o))})}function r(n){return a(t(n))}function t(n){var o={__KEYS:[]};return h.forEach(n,function(n){var r=n.replace("://","__").split("/"),t=o;h.forEach(r,function(n){t[n]||(t[n]={__KEYS:[]},t.__KEYS.push(n)),t=t[n]})}),o}function a(n){var o=[];return h.forEach(n.__KEYS,function(r){for(var t=r,a=n[r],c=a.__KEYS;1===c.length;)t+="/"+c[0],a=a[c[0]],c=a.__KEYS;c.length&&o.push([t.replace("__","://"),u(a)])}),o}function u(n){var o=[];return h.forEach(n.__KEYS,function(r){var t=u(n[r]);t.length?h.forEach(t,function(n){o.push(r+"/"+n)}):o.push(r)}),o}function c(n){var o=l.comboSyntax||["??",","],r=[];return h.forEach(n,function(n){var t=n[0]+"/",a=e(n[1]);h.forEach(a,function(n){var a={},u=t+o[0]+n.join(o[1]);if(u.length>2e3)throw new Error("The combo url is too long: "+u);h.forEach(n,function(n){a[t+n]=u}),r.push(function(n){return a[n]||n})})}),r}function e(n){var o=[],r={};h.forEach(n,function(n){var o=f(n);o&&(r[o]||(r[o]=[])).push(n)});for(var t in r)r.hasOwnProperty(t)&&o.push(r[t]);return o}function f(n){var o=n.lastIndexOf(".");return o>=0?n.substring(o):""}function i(n){var o=l.comboSyntax||["??",","],r=o[0],t=o[1];return r&&n.indexOf(r)>0||t&&n.indexOf(t)>0}var s=seajs.pluginSDK,h=s.util,l=s.config,p=s.Module,E=seajs.cache;seajs.debug?seajs.log("Combo is turned off in debug mode"):n(),h.toComboPaths=r,h.toComboMap=c}),seajs.use("seajs/plugin-combo");